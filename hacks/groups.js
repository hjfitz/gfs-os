const logs = `2025-04-22T06:09:57.5555552Z remote: Compressing objects:   1% (1/90)        
2025-04-22T06:09:57.5556987Z remote: Compressing objects:   2% (2/90)        
2025-04-22T06:09:57.5558455Z remote: Compressing objects:   3% (3/90)        
2025-04-22T06:09:57.5559987Z remote: Compressing objects:   4% (4/90)        
2025-04-22T06:09:57.5561561Z remote: Compressing objects:   5% (5/90)        
2025-04-22T06:09:57.5563011Z remote: Compressing objects:   6% (6/90)        
2025-04-22T06:09:57.5564441Z remote: Compressing objects:   7% (7/90)        
2025-04-22T06:09:57.5565870Z remote: Compressing objects:   8% (8/90)        
2025-04-22T06:09:57.5567308Z remote: Compressing objects:  10% (9/90)        
2025-04-22T06:09:57.5568747Z remote: Compressing objects:  11% (10/90)        
2025-04-22T06:09:57.5570289Z remote: Compressing objects:  12% (11/90)        
2025-04-22T06:09:57.5571714Z remote: Compressing objects:  13% (12/90)        
2025-04-22T06:09:57.5573156Z remote: Compressing objects:  14% (13/90)        
2025-04-22T06:09:57.5574599Z remote: Compressing objects:  15% (14/90)        
2025-04-22T06:09:57.5576051Z remote: Compressing objects:  16% (15/90)        
2025-04-22T06:09:57.5577495Z remote: Compressing objects:  17% (16/90)        

2025-04-22T06:09:57.5578953Z remote: Compressing objects:  18% (17/90)        
2025-04-22T06:09:57.5580514Z remote: Compressing objects:  20% (18/90)        
2025-04-22T06:09:57.5581978Z remote: Compressing objects:  21% (19/90)        
2025-04-22T06:09:57.5583429Z remote: Compressing objects:  22% (20/90)        
2025-04-22T06:09:57.5584872Z remote: Compressing objects:  23% (21/90)        
2025-04-22T06:09:57.5586321Z remote: Compressing objects:  24% (22/90)        
2025-04-22T06:09:57.5587753Z remote: Compressing objects:  25% (23/90)        
2025-04-22T06:09:57.5589190Z remote: Compressing objects:  26% (24/90)        

2025-04-22T06:09:57.5591133Z remote: Compressing objects:  27% (25/90)        
2025-04-22T06:09:57.5592597Z remote: Compressing objects:  28% (26/90)        
2025-04-22T06:09:57.5594034Z remote: Compressing objects:  30% (27/90)        
2025-04-22T06:09:57.5595462Z remote: Compressing objects:  31% (28/90)        
2025-04-22T06:09:57.5596889Z remote: Compressing objects:  32% (29/90)        
2025-04-22T06:09:57.5598333Z remote: Compressing objects:  33% (30/90)        
2025-04-22T06:09:57.5599914Z remote: Compressing objects:  34% (31/90)        
2025-04-22T06:09:57.5601352Z remote: Compressing objects:  35% (32/90)        
2025-04-22T06:09:57.5602775Z remote: Compressing objects:  36% (33/90)        
2025-04-22T06:09:57.5604203Z remote: Compressing objects:  37% (34/90)        
2025-04-22T06:09:57.5605871Z remote: Compressing objects:  38% (35/90)        
2025-04-22T06:09:57.5607315Z remote: Compressing objects:  40% (36/90)        
2025-04-22T06:09:57.5608739Z remote: Compressing objects:  41% (37/90)        
2025-04-22T06:09:57.5610296Z remote: Compressing objects:  42% (38/90)        
2025-04-22T06:09:57.5611721Z remote: Compressing objects:  43% (39/90)        
2025-04-22T06:09:57.5613159Z remote: Compressing objects:  44% (40/90)        
2025-04-22T06:09:57.5614579Z remote: Compressing objects:  45% (41/90)        
2025-04-22T06:09:57.5616008Z remote: Compressing objects:  46% (42/90)        
2025-04-22T06:09:57.5617444Z remote: Compressing objects:  47% (43/90)        
2025-04-22T06:09:57.5618880Z remote: Compressing objects:  48% (44/90)        
2025-04-22T06:09:57.5620398Z remote: Compressing objects:  50% (45/90)        
2025-04-22T06:09:57.5621823Z remote: Compressing objects:  51% (46/90)        
2025-04-22T06:09:57.5623246Z remote: Compressing objects:  52% (47/90)        
2025-04-22T06:09:57.5624656Z remote: Compressing objects:  53% (48/90)        

2025-04-22T06:09:57.5626046Z remote: Compressing objects:  54% (49/90)        
2025-04-22T06:09:57.5627438Z remote: Compressing objects:  55% (50/90)        
2025-04-22T06:09:57.5628836Z remote: Compressing objects:  56% (51/90)        
2025-04-22T06:09:57.5630315Z remote: Compressing objects:  57% (52/90)        
2025-04-22T06:09:57.5631684Z remote: Compressing objects:  58% (53/90)        
2025-04-22T06:09:57.5633081Z remote: Compressing objects:  60% (54/90)        
2025-04-22T06:09:57.5634462Z remote: Compressing objects:  61% (55/90)        
2025-04-22T06:09:57.5636020Z remote: Compressing objects:  62% (56/90)        
2025-04-22T06:09:57.5637424Z remote: Compressing objects:  63% (57/90)        
2025-04-22T06:09:57.5638819Z remote: Compressing objects:  64% (58/90)        
2025-04-22T06:09:57.5640318Z remote: Compressing objects:  65% (59/90)        
2025-04-22T06:09:57.5641704Z remote: Compressing objects:  66% (60/90)        
2025-04-22T06:09:57.5643119Z remote: Compressing objects:  67% (61/90)        
2025-04-22T06:09:57.5644527Z remote: Compressing objects:  68% (62/90)        
2025-04-22T06:09:57.5645916Z remote: Compressing objects:  70% (63/90)        
2025-04-22T06:09:57.5647333Z remote: Compressing objects:  71% (64/90)        

2025-04-22T06:09:57.5648726Z remote: Compressing objects:  72% (65/90)        
2025-04-22T06:09:57.5650221Z remote: Compressing objects:  73% (66/90)        
2025-04-22T06:09:57.5651604Z remote: Compressing objects:  74% (67/90)        
2025-04-22T06:09:57.5652994Z remote: Compressing objects:  75% (68/90)        
2025-04-22T06:09:57.5654403Z remote: Compressing objects:  76% (69/90)        
2025-04-22T06:09:57.5655798Z remote: Compressing objects:  77% (70/90)        
2025-04-22T06:09:57.5657599Z remote: Compressing objects:  78% (71/90)        
2025-04-22T06:09:57.5658996Z remote: Compressing objects:  80% (72/90)        

2025-04-22T06:09:57.5660560Z remote: Compressing objects:  81% (73/90)        
2025-04-22T06:09:57.5661977Z remote: Compressing objects:  82% (74/90)        
2025-04-22T06:09:57.5663383Z remote: Compressing objects:  83% (75/90)        
2025-04-22T06:09:57.5664783Z remote: Compressing objects:  84% (76/90)        
2025-04-22T06:09:57.5666166Z remote: Compressing objects:  85% (77/90)        
2025-04-22T06:09:57.5667574Z remote: Compressing objects:  86% (78/90)        
2025-04-22T06:09:57.5668962Z remote: Compressing objects:  87% (79/90)        
2025-04-22T06:09:57.5671166Z remote: Compressing objects:  88% (80/90)        

2025-04-22T06:09:57.5673255Z remote: Compressing objects:  90% (81/90)        
2025-04-22T06:09:57.5675271Z remote: Compressing objects:  91% (82/90)        
2025-04-22T06:09:57.5677455Z remote: Compressing objects:  92% (83/90)        
2025-04-22T06:09:57.5679012Z remote: Compressing objects:  93% (84/90)        
2025-04-22T06:09:57.5680674Z remote: Compressing objects:  94% (85/90)        
2025-04-22T06:09:57.5682075Z remote: Compressing objects:  95% (86/90)        
2025-04-22T06:09:57.5683724Z remote: Compressing objects:  96% (87/90)        
2025-04-22T06:09:57.5685078Z remote: Compressing objects:  97% (88/90)        

2025-04-22T06:09:57.5686432Z remote: Compressing objects:  98% (89/90)        
2025-04-22T06:09:57.5687814Z remote: Compressing objects: 100% (90/90)        
2025-04-22T06:09:57.5689305Z remote: Compressing objects: 100% (90/90), done.        

2025-04-22T06:09:57.5744697Z Receiving objects:   0% (1/122)
2025-04-22T06:09:57.5751378Z Receiving objects:   1% (2/122)

2025-04-22T06:09:57.5752762Z Receiving objects:   2% (3/122)

2025-04-22T06:09:57.5753833Z Receiving objects:   3% (4/122)

2025-04-22T06:09:57.5754937Z Receiving objects:   4% (5/122)

2025-04-22T06:09:57.5756030Z Receiving objects:   5% (7/122)

2025-04-22T06:09:57.5757113Z Receiving objects:   6% (8/122)

2025-04-22T06:09:57.5758166Z Receiving objects:   7% (9/122)

2025-04-22T06:09:57.5759231Z Receiving objects:   8% (10/122)
2025-04-22T06:09:57.5760580Z Receiving objects:   9% (11/122)
2025-04-22T06:09:57.5761718Z Receiving objects:  10% (13/122)
2025-04-22T06:09:57.5762807Z Receiving objects:  11% (14/122)
2025-04-22T06:09:57.7421943Z Receiving objects:  12% (15/122)
2025-04-22T06:09:57.7423995Z Receiving objects:  13% (16/122)
2025-04-22T06:09:57.7425919Z Receiving objects:  14% (18/122)
2025-04-22T06:09:57.7427792Z Receiving objects:  15% (19/122)

2025-04-22T06:09:57.7439972Z Receiving objects:  16% (20/122)
2025-04-22T06:09:57.7441889Z Receiving objects:  17% (21/122)
2025-04-22T06:09:57.7443885Z Receiving objects:  18% (22/122)
2025-04-22T06:09:57.7445768Z Receiving objects:  19% (24/122)
2025-04-22T06:09:57.7447684Z Receiving objects:  20% (25/122)
2025-04-22T06:09:57.7460350Z Receiving objects:  21% (26/122)
2025-04-22T06:09:57.7462286Z Receiving objects:  22% (27/122)
2025-04-22T06:09:57.7464166Z Receiving objects:  23% (29/122)
2025-04-22T06:09:57.7466048Z Receiving objects:  24% (30/122)
2025-04-22T06:09:57.7467945Z Receiving objects:  25% (31/122)
2025-04-22T06:09:57.7470107Z Receiving objects:  26% (32/122)
2025-04-22T06:09:57.7471957Z Receiving objects:  27% (33/122)
2025-04-22T06:09:57.7473945Z Receiving objects:  28% (35/122)
2025-04-22T06:09:57.7475836Z Receiving objects:  29% (36/122)
2025-04-22T06:09:57.7477705Z Receiving objects:  30% (37/122)
2025-04-22T06:09:57.7479563Z Receiving objects:  31% (38/122)

2025-04-22T06:09:57.7486971Z Receiving objects:  32% (40/122)
2025-04-22T06:09:57.7488842Z Receiving objects:  33% (41/122)
2025-04-22T06:09:57.7490966Z Receiving objects:  34% (42/122)
2025-04-22T06:09:57.7492808Z Receiving objects:  35% (43/122)
2025-04-22T06:09:57.7494640Z Receiving objects:  36% (44/122)
2025-04-22T06:09:57.7496517Z Receiving objects:  37% (46/122)
2025-04-22T06:09:57.7498402Z Receiving objects:  38% (47/122)
2025-04-22T06:09:57.7500615Z Receiving objects:  39% (48/122)
2025-04-22T06:09:57.7502491Z Receiving objects:  40% (49/122)
2025-04-22T06:09:57.7504347Z Receiving objects:  41% (51/122)
2025-04-22T06:09:57.7506209Z Receiving objects:  42% (52/122)
2025-04-22T06:09:57.7508166Z Receiving objects:  43% (53/122)
2025-04-22T06:09:57.7510218Z Receiving objects:  44% (54/122)
2025-04-22T06:09:57.7512104Z Receiving objects:  45% (55/122)
2025-04-22T06:09:57.7513946Z Receiving objects:  46% (57/122)
2025-04-22T06:09:57.7516576Z remote: Total 122 (delta 9), reused 118 (delta 9), pack-reused 0 (from 0)        
2025-04-22T06:09:57.7519401Z Receiving objects:  47% (58/122)
2025-04-22T06:09:57.7521599Z Receiving objects:  48% (59/122)
2025-04-22T06:09:57.7523441Z Receiving objects:  49% (60/122)
2025-04-22T06:09:57.7525310Z Receiving objects:  50% (61/122)

2025-04-22T06:09:57.7527180Z Receiving objects:  51% (63/122)
2025-04-22T06:09:57.7529254Z Receiving objects:  52% (64/122)
2025-04-22T06:09:57.7531395Z Receiving objects:  53% (65/122)
2025-04-22T06:09:57.7533217Z Receiving objects:  54% (66/122)
2025-04-22T06:09:57.7535079Z Receiving objects:  55% (68/122)
2025-04-22T06:09:57.7537707Z Receiving objects:  56% (69/122)
2025-04-22T06:09:57.7539502Z Receiving objects:  57% (70/122)
2025-04-22T06:09:57.7542117Z Receiving objects:  58% (71/122)

2025-04-22T06:09:57.7543954Z Receiving objects:  59% (72/122)
2025-04-22T06:09:57.7545823Z Receiving objects:  60% (74/122)
2025-04-22T06:09:57.7547711Z Receiving objects:  61% (75/122)
2025-04-22T06:09:57.7549553Z Receiving objects:  62% (76/122)
2025-04-22T06:09:57.7551660Z Receiving objects:  63% (77/122)
2025-04-22T06:09:57.7553504Z Receiving objects:  64% (79/122)
2025-04-22T06:09:57.7555393Z Receiving objects:  65% (80/122)
2025-04-22T06:09:57.7557222Z Receiving objects:  66% (81/122)

2025-04-22T06:09:57.7559109Z Receiving objects:  67% (82/122)
2025-04-22T06:09:57.7561219Z Receiving objects:  68% (83/122)
2025-04-22T06:09:57.7563123Z Receiving objects:  69% (85/122)
2025-04-22T06:09:57.7565012Z Receiving objects:  70% (86/122)
2025-04-22T06:09:57.7566839Z Receiving objects:  71% (87/122)
2025-04-22T06:09:57.7568722Z Receiving objects:  72% (88/122)
2025-04-22T06:09:57.7570964Z Receiving objects:  73% (90/122)
2025-04-22T06:09:57.7572840Z Receiving objects:  74% (91/122)

2025-04-22T06:09:57.7574704Z Receiving objects:  75% (92/122)
2025-04-22T06:09:57.7576575Z Receiving objects:  76% (93/122)
2025-04-22T06:09:57.7578462Z Receiving objects:  77% (94/122)
2025-04-22T06:09:57.7580582Z Receiving objects:  78% (96/122)
2025-04-22T06:09:57.7582459Z Receiving objects:  79% (97/122)
2025-04-22T06:09:57.7584309Z Receiving objects:  80% (98/122)
2025-04-22T06:09:57.7586146Z Receiving objects:  81% (99/122)
2025-04-22T06:09:57.7588032Z Receiving objects:  82% (101/122)
2025-04-22T06:09:57.7590273Z Receiving objects:  83% (102/122)
2025-04-22T06:09:57.7592178Z Receiving objects:  84% (103/122)
2025-04-22T06:09:57.7594387Z Receiving objects:  85% (104/122)
2025-04-22T06:09:57.7596332Z Receiving objects:  86% (105/122)
2025-04-22T06:09:57.7598220Z Receiving objects:  87% (107/122)
2025-04-22T06:09:57.7600327Z Receiving objects:  88% (108/122)
2025-04-22T06:09:57.7602238Z Receiving objects:  89% (109/122)
2025-04-22T06:09:57.7604101Z Receiving objects:  90% (110/122)
2025-04-22T06:09:57.7606036Z Receiving objects:  91% (112/122)
2025-04-22T06:09:57.7607903Z Receiving objects:  92% (113/122)
2025-04-22T06:09:57.7610140Z Receiving objects:  93% (114/122)
2025-04-22T06:09:57.7612097Z Receiving objects:  94% (115/122)
2025-04-22T06:09:57.7613961Z Receiving objects:  95% (116/122)
2025-04-22T06:09:57.7615677Z Receiving objects:  96% (118/122)
2025-04-22T06:09:57.7617315Z Receiving objects:  97% (119/122)
2025-04-22T06:09:57.7618952Z Receiving objects:  98% (120/122)
2025-04-22T06:09:57.7620997Z Receiving objects:  99% (121/122)
2025-04-22T06:09:57.7622221Z Receiving objects: 100% (122/122)
2025-04-22T06:09:57.7623681Z Receiving objects: 100% (122/122), 144.64 KiB | 1.38 MiB/s, done.
2025-04-22T06:09:57.7625128Z Resolving deltas:   0% (0/9)
2025-04-22T06:09:57.7626145Z Resolving deltas:  11% (1/9)
2025-04-22T06:09:57.7627175Z Resolving deltas:  22% (2/9)
2025-04-22T06:09:57.7628190Z Resolving deltas:  33% (3/9)
2025-04-22T06:09:57.7629187Z Resolving deltas:  44% (4/9)
2025-04-22T06:09:57.7630497Z Resolving deltas:  55% (5/9)
2025-04-22T06:09:57.7631514Z Resolving deltas:  66% (6/9)
2025-04-22T06:09:57.7632522Z Resolving deltas:  77% (7/9)
2025-04-22T06:09:57.7633543Z Resolving deltas:  88% (8/9)
2025-04-22T06:09:57.7634561Z Resolving deltas: 100% (9/9)
2025-04-22T06:09:57.7635588Z Resolving deltas: 100% (9/9), done.
2025-04-22T06:09:57.7636835Z From https://github.com/gfs-hybrid-services/apiky
2025-04-22T06:09:57.7638710Z  * [new ref]         8dd7494aba8f6997f63a4f9ef239a633c3949d71 -> origin/main
2025-04-22T06:09:57.7641192Z ##[endgroup]
2025-04-22T06:09:57.7643259Z ##[group]Determining the checkout info
2025-04-22T06:09:57.7645515Z ##[endgroup]
2025-04-22T06:09:57.7646980Z ##[group]Checking out the ref
2025-04-22T06:09:57.7648606Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-04-22T06:09:57.7650630Z Switched to a new branch 'main'
2025-04-22T06:09:57.7651757Z branch 'main' set up to track 'origin/main'.
2025-04-22T06:09:57.7653712Z ##[endgroup]`;

function groupLogs(logs) {
	const lines = logs.split("\n");
	const out = [];
	let inGroup = false;
	for (let line of lines) {
		const [_date,, ...rest] = line.split(" ");
		const withoutTimestamp = rest.join(" ").trim();
		line = line.trim();
		if (withoutTimestamp !== "##[endgroup]") {
			if (inGroup) {
				out[out.length - 1].children.push(line);
			} else {
				out.push({
					line: line.replace(/##\[group]/, ''),
					children: [],
				});
			}
		}
		if (inGroup) {
			if (withoutTimestamp.startsWith("##[endgroup]")) {
				inGroup = false;
			}
		}
		if (withoutTimestamp.startsWith("##[group]")) {
			inGroup = true;
		}
	}

	return out;
}

console.log(JSON.stringify(groupLogs(logs), null, 2));
